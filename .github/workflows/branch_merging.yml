name: PR branch check

on:
    pull_request:
      branches: ['main', 'dev', 'feature/*', 'fix/*', 'test/*']
  
    workflow_dispatch:

jobs:
  check-branch:
    runs-on: ubuntu-latest
    steps:
      - name: Check PR branch name
        run: |
          PR_BRANCH=${{ github.head_ref }}
          if [[ "$PR_BRANCH" != "dev" ]]; then
            echo "Error: Pull requests to 'main' must come from 'dev' branch."
            exit 1
          fi